<div class="min-h-screen bg-gray-900 overflow-hidden">
  <!-- Background elements -->
  <div class="fixed inset-0 z-0">
    <!-- Base gradient -->
    <div class="absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900"></div>
    
    <!-- Animated color overlay -->
    <div class="absolute inset-0 bg-gradient-to-br from-primary-900/20 via-secondary-900/20 to-accent-900/20 animate-gradient"></div>
    
    <!-- Radial gradient -->
    <div class="absolute inset-0 bg-gradient-radial from-transparent via-primary-900/10 to-transparent"></div>
    
    <!-- Floating Paw Prints and Pet Silhouettes -->
    <div class="absolute inset-0 overflow-hidden">
      <!-- Paw Prints (20 Total) -->
      <div class="absolute -top-20 -left-20 w-40 h-40 text-primary-500/5 transform rotate-45 animate-float-1">
        <ng-icon name="lucidePawPrint" [size]="'160'"></ng-icon>
      </div>
      <div class="absolute top-1/4 -right-20 w-32 h-32 text-secondary-500/5 transform -rotate-12 animate-float-2">
        <ng-icon name="lucidePawPrint" [size]="'128'"></ng-icon>
      </div>
      <div class="absolute bottom-1/3 -left-16 w-36 h-36 text-accent-500/5 transform rotate-90 animate-float-3">
        <ng-icon name="lucidePawPrint" [size]="'144'"></ng-icon>
      </div>
      <div class="absolute top-1/2 right-1/4 w-20 h-20 text-primary-500/5 transform rotate-180 animate-float-2">
        <ng-icon name="lucidePawPrint" [size]="'80'"></ng-icon>
      </div>
      <div class="absolute bottom-1/4 left-1/3 w-24 h-24 text-secondary-500/5 transform -rotate-45 animate-float-3">
        <ng-icon name="lucidePawPrint" [size]="'96'"></ng-icon>
      </div>
      <div class="absolute top-1/8 left-1/4 w-28 h-28 text-primary-500/5 transform rotate-30 animate-float-1 [animation-delay:1s]">
        <ng-icon name="lucidePawPrint" [size]="'112'"></ng-icon>
      </div>
      <div class="absolute bottom-1/2 right-1/3 w-32 h-32 text-secondary-500/5 transform -rotate-60 animate-float-2 [animation-delay:2s]">
        <ng-icon name="lucidePawPrint" [size]="'128'"></ng-icon>
      </div>
      <div class="absolute top-3/4 left-1/2 w-24 h-24 text-accent-500/5 transform rotate-120 animate-float-3 [animation-delay:3s]">
        <ng-icon name="lucidePawPrint" [size]="'96'"></ng-icon>
      </div>
      <div class="absolute bottom-1/8 right-1/4 w-20 h-20 text-primary-500/5 transform rotate-270 animate-float-1 [animation-delay:4s]">
        <ng-icon name="lucidePawPrint" [size]="'80'"></ng-icon>
      </div>
      <div class="absolute top-1/3 left-1/5 w-36 h-36 text-secondary-500/5 transform -rotate-30 animate-float-2 [animation-delay:5s]">
        <ng-icon name="lucidePawPrint" [size]="'144'"></ng-icon>
      </div>
      <div class="absolute bottom-1/5 right-1/5 w-28 h-28 text-accent-500/5 transform rotate-60 animate-float-3 [animation-delay:6s]">
        <ng-icon name="lucidePawPrint" [size]="'112'"></ng-icon>
      </div>
      <div class="absolute top-1/2 left-1/4 w-32 h-32 text-primary-500/5 transform rotate-90 animate-float-1 [animation-delay:7s]">
        <ng-icon name="lucidePawPrint" [size]="'128'"></ng-icon>
      </div>
      <div class="absolute bottom-1/3 right-1/2 w-24 h-24 text-secondary-500/5 transform -rotate-90 animate-float-2 [animation-delay:8s]">
        <ng-icon name="lucidePawPrint" [size]="'96'"></ng-icon>
      </div>
      <div class="absolute top-1/4 left-1/3 w-20 h-20 text-accent-500/5 transform rotate-180 animate-float-3 [animation-delay:9s]">
        <ng-icon name="lucidePawPrint" [size]="'80'"></ng-icon>
      </div>
      <div class="absolute top-1/6 right-1/5 w-28 h-28 text-primary-500/5 transform rotate-15 animate-float-1 [animation-delay:10s]">
        <ng-icon name="lucidePawPrint" [size]="'112'"></ng-icon>
      </div>
      <div class="absolute bottom-1/6 left-1/5 w-32 h-32 text-secondary-500/5 transform -rotate-15 animate-float-2 [animation-delay:11s]">
        <ng-icon name="lucidePawPrint" [size]="'128'"></ng-icon>
      </div>
      <div class="absolute top-2/3 right-1/6 w-24 h-24 text-accent-500/5 transform rotate-45 animate-float-3 [animation-delay:12s]">
        <ng-icon name="lucidePawPrint" [size]="'96'"></ng-icon>
      </div>
      <div class="absolute bottom-2/3 left-1/6 w-20 h-20 text-primary-500/5 transform -rotate-45 animate-float-1 [animation-delay:13s]">
        <ng-icon name="lucidePawPrint" [size]="'80'"></ng-icon>
      </div>
      <div class="absolute top-1/5 right-1/2 w-36 h-36 text-secondary-500/5 transform rotate-90 animate-float-2 [animation-delay:14s]">
        <ng-icon name="lucidePawPrint" [size]="'144'"></ng-icon>
      </div>
      <div class="absolute bottom-1/4 left-1/2 w-28 h-28 text-accent-500/5 transform -rotate-90 animate-float-3 [animation-delay:15s]">
        <ng-icon name="lucidePawPrint" [size]="'112'"></ng-icon>
      </div>

      <div class="absolute top-1/6 right-1/6 w-16 h-16 text-primary-500/5 transform rotate-15 animate-float-4">
        <ng-icon name="lucideDog" [size]="'64'"></ng-icon>
      </div>
      <div class="absolute bottom-1/6 left-1/6 w-20 h-20 text-secondary-500/5 transform -rotate-15 animate-float-4 [animation-delay:1s]">
        <ng-icon name="lucideCat" [size]="'80'"></ng-icon>
      </div>
      <div class="absolute top-2/3 right-1/3 w-18 h-18 text-accent-500/5 transform rotate-45 animate-float-4 [animation-delay:2s]">
        <ng-icon name="lucideDog" [size]="'72'"></ng-icon>
      </div>
      <div class="absolute bottom-2/3 left-1/4 w-14 h-14 text-primary-500/5 transform -rotate-45 animate-float-4 [animation-delay:3s]">
        <ng-icon name="lucideCat" [size]="'56'"></ng-icon>
      </div>
      <div class="absolute top-1/2 right-1/2 w-16 h-16 text-secondary-500/5 transform rotate-90 animate-float-4 [animation-delay:4s]">
        <ng-icon name="lucideDog" [size]="'64'"></ng-icon>
      </div>
      <div class="absolute bottom-1/2 left-1/3 w-18 h-18 text-accent-500/5 transform -rotate-90 animate-float-4 [animation-delay:5s]">
        <ng-icon name="lucideCat" [size]="'72'"></ng-icon>
      </div>
      <div class="absolute top-1/3 right-1/4 w-20 h-20 text-primary-500/5 transform rotate-30 animate-float-4 [animation-delay:6s]">
        <ng-icon name="lucideDog" [size]="'80'"></ng-icon>
      </div>
      <div class="absolute bottom-1/3 left-1/5 w-16 h-16 text-secondary-500/5 transform -rotate-30 animate-float-4 [animation-delay:7s]">
        <ng-icon name="lucideCat" [size]="'64'"></ng-icon>
      </div>
      <div class="absolute top-3/4 right-1/5 w-18 h-18 text-accent-500/5 transform rotate-60 animate-float-4 [animation-delay:8s]">
        <ng-icon name="lucideDog" [size]="'72'"></ng-icon>
      </div>
      <div class="absolute bottom-3/4 left-1/2 w-14 h-14 text-primary-500/5 transform -rotate-60 animate-float-4 [animation-delay:9s]">
        <ng-icon name="lucideCat" [size]="'56'"></ng-icon>
      </div>
      <div class="absolute top-1/4 right-1/3 w-16 h-16 text-secondary-500/5 transform rotate-120 animate-float-4 [animation-delay:10s]">
        <ng-icon name="lucideDog" [size]="'64'"></ng-icon>
      </div>
      <div class="absolute bottom-1/5 left-1/4 w-18 h-18 text-accent-500/5 transform -rotate-120 animate-float-4 [animation-delay:11s]">
        <ng-icon name="lucideCat" [size]="'72'"></ng-icon>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20">
    <!-- Enhanced Search Section -->
    <div 
      [ngClass]="{
        'mt-4 sm:mt-8 lg:mt-12 transition-all duration-700 ease-in-out': !getCurrentAnimal(),
        'mt-2 sm:mt-4 lg:mt-6 transition-all duration-700 ease-in-out': getCurrentAnimal()
      }" 
      class="max-w-2xl mx-auto mb-6 sm:mb-8 space-y-4 sm:space-y-6"
    >
      <!-- Title and Subtitle -->
      <div class="text-center mb-4 sm:mb-6 opacity-100 max-h-[200px] transition-all duration-700 ease-in-out">
        <h1 class="text-4xl sm:text-5xl font-bold text-white mb-3 sm:mb-5">
          {{ 'APP.SEARCH.TITLE' | translate }}
          <span class="bg-gradient-to-r from-primary-400 via-secondary-400 to-accent-400 bg-clip-text text-transparent">
            {{ 'APP.SEARCH.TITLE_HIGHLIGHT' | translate }}
          </span>
          {{ 'APP.SEARCH.TITLE_END' | translate }}
        </h1>
        <p class="text-gray-400 text-base sm:text-lg lg:text-xl px-4">{{ 'APP.SEARCH.SUBTITLE' | translate }}</p>
      </div>
    
      <!-- Stylized Search Form -->
      <form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="relative space-y-4">
        <!-- Search Input Container -->
        <div class="relative flex flex-col sm:flex-row items-center sm:items-stretch gap-3 sm:gap-3">
          <div class="relative w-full">
            <input
              type="text"
              formControlName="searchQuery"
              class="w-full px-4 py-3 lg:px-6 lg:py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-400 text-base lg:text-lg
                     focus:border-primary-500/50 focus:ring-2 focus:ring-primary-500/20 focus:outline-none
                     transition-all duration-300 backdrop-blur-sm"
              [placeholder]="'APP.SEARCH.SEARCH_PLACEHOLDER' | translate"
            />
          </div>
          
          <!-- Search Button -->
          <button
            type="submit"
            class="w-full sm:w-auto px-4 py-2 lg:px-6 lg:py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg 
                   hover:shadow-lg hover:shadow-primary-500/20 transition-all duration-300 transform hover:scale-105 
                   flex items-center justify-center space-x-2 group text-base lg:text-lg
                   disabled:opacity-50 disabled:cursor-not-allowed
                   max-w-[160px] sm:max-w-none mx-auto sm:mx-0 my-2 sm:my-0"
            [disabled]="!searchForm.get('searchQuery')?.value || searchForm.get('searchQuery')?.invalid || isLoading"
          >
            <span *ngIf="!isLoading">{{ 'APP.SEARCH.SEARCH_BUTTON' | translate }}</span>
            <div *ngIf="isLoading" class="flex items-center space-x-2">
              <div class="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>
              <span>{{ 'APP.SEARCH.SEARCHING' | translate }}</span>
            </div>
            <ng-icon 
              *ngIf="!isLoading"
              name="lucidePawPrint" 
              [size]="'20'" 
              class="transform transition-transform group-hover:rotate-12">
            </ng-icon>
          </button>
        </div>

        <!-- Search Suggestions -->
        <div 
          class="flex flex-wrap gap-2 md:gap-3 justify-center mt-6 sm:mt-4 px-2 sm:px-0"
        >
          <button
            *ngFor="let suggestion of searchSuggestions"
            type="button"
            (click)="applySearchSuggestion(suggestion)"
            class="px-3 py-1.5 md:px-4 md:py-2 lg:px-5 lg:py-2.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-full 
                   text-sm md:text-base text-gray-300 transition-all duration-300 
                   hover:border-primary-500/30 hover:text-white flex items-center space-x-2
                   hover:shadow-lg hover:shadow-primary-500/10 transform hover:scale-105
                   min-w-[120px] md:min-w-[140px] justify-center"
          >
            <ng-icon [name]="suggestion.icon" [size]="'16'" class="text-primary-400 md:scale-110"></ng-icon>
            <span class="whitespace-nowrap">{{ suggestion.text }}</span>
          </button>
        </div>
      </form>
    </div>

    <!-- Initial State -->
    <div *ngIf="isInitialLoad" class="flex justify-center items-center mb-12">
      <div class="w-full max-w-sm text-center py-12">
        <ng-icon name="lucidePawPrint" [size]="'64'" class="text-primary-500 mb-6 animate-bounce"></ng-icon>
        <h2 class="text-2xl font-bold text-white mb-4">{{ 'APP.SEARCH.WELCOME' | translate }}</h2>
        <p class="text-gray-300 mb-4">{{ 'APP.SEARCH.WELCOME_DESCRIPTION' | translate }}</p>
        <p class="text-gray-300 mb-4">{{ 'APP.SEARCH.WELCOME_INSTRUCTIONS' | translate }}</p>
        <div class="flex justify-center space-x-4 mt-6">
          <div class="flex flex-col items-center">
            <ng-icon name="lucideX" [size]="'32'" class="text-red-500 mb-2"></ng-icon>
            <span class="text-sm text-gray-400">{{ 'APP.SEARCH.SKIP' | translate }}</span>
          </div>
          <div class="flex flex-col items-center">
            <ng-icon name="lucideHeart" [size]="'32'" class="text-green-500 mb-2"></ng-icon>
            <span class="text-sm text-gray-400">{{ 'APP.SEARCH.SAVE' | translate }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Other States (Loading, Error, Swipe Cards, Empty) -->
    <div *ngIf="!isInitialLoad">
      <!-- Initial Loading State -->
      <div *ngIf="isLoading" class="flex flex-col items-center justify-center py-12 space-y-4">
        <div class="relative">
          <div class="w-20 h-20 rounded-full border-4 border-primary-500/30 border-t-primary-500 animate-spin"></div>
          <div class="absolute inset-0 flex items-center justify-center">
            <ng-icon name="lucidePawPrint" [size]="'32'" class="text-primary-500 animate-bounce"></ng-icon>
          </div>
        </div>
        <p class="text-gray-400">{{ 'APP.SEARCH.SEARCHING_PETS' | translate }}</p>
      </div>

      <!-- Error State -->
      <div *ngIf="error" class="flex flex-col items-center justify-center py-12 space-y-6">
        <div class="w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center">
          <ng-icon name="lucideX" [size]="'40'" class="text-red-500"></ng-icon>
        </div>
        <div class="text-center">
          <h3 class="text-xl font-semibold text-red-400 mb-2">{{ error.title }}</h3>
          <p class="text-gray-400">{{ error.message }}</p>
        </div>
        <button 
          (click)="resetSearch()"
          class="px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg hover:shadow-primary-500/20 transition-all duration-300"
        >
          {{ 'APP.SEARCH.TRY_AGAIN' | translate }}
        </button>
      </div>

      <!-- Swipe Cards and Empty States -->
      <div *ngIf="!isLoading && !error" class="flex justify-center items-center mb-12" #swipeCardContainer>
        <div class="w-full max-w-sm md:max-w-md lg:max-w-xl">
          <ng-container *ngIf="getCurrentAnimal() as animal">
            <app-swipe-card
              [key]="currentAnimalKey"
              [animal]="animal"
              [hasMore]="hasMoreAnimals()"
              (swipeLeft)="onSwipeLeft()"
              (swipeRight)="onSwipeRight($event)">
            </app-swipe-card>
          </ng-container>

          <!-- Empty State: No Animals Found -->
          <div *ngIf="!getCurrentAnimal() && animals.length === 0 && !isLoadingMore" class="text-center py-12">
            <ng-icon name="lucidePawPrint" [size]="'48'" class="text-gray-500 mb-4"></ng-icon>
            <h3 class="text-xl font-semibold text-white mb-2">{{ 'APP.SEARCH.NO_PETS_FOUND' | translate }}</h3>
            <p class="text-gray-400">{{ 'APP.SEARCH.NO_PETS_FOUND_SUBTITLE' | translate }}</p>
          </div>

          <!-- Empty State: All Animals Viewed -->
          <div *ngIf="!getCurrentAnimal() && animals.length > 0 && !isLoadingMore" class="text-center py-12">
            <ng-icon name="lucidePawPrint" [size]="'48'" class="text-gray-500 mb-4"></ng-icon>
            <h3 class="text-xl font-semibold text-white mb-2">{{ 'APP.SEARCH.SEEN_ALL_PETS' | translate }}</h3>
            <p class="text-gray-400">{{ 'APP.SEARCH.SEEN_ALL_PETS_SUBTITLE' | translate }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Spacer -->
    <div class="h-16"></div>

    <!-- Saved Animals Grid -->
    <div *ngIf="savedAnimals.length > 0">
      <!-- Clear Saved Animals Button -->
      <div class="flex justify-end mb-6">
        <button
          (click)="clearSavedAnimals()"
          class="px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg 
                 hover:shadow-lg hover:shadow-red-500/20 transition-all duration-300 transform hover:scale-105
                 flex items-center space-x-2 group text-sm font-medium"
        >
          <ng-icon name="lucideTrash2" [size]="'16'" class="text-white"></ng-icon>
          <span>{{ 'APP.SEARCH.CLEAR_SAVED_ANIMALS' | translate }}</span>
        </button>
      </div>
      
      <app-saved-animals-grid
        [animals]="savedAnimals"
        (removeAnimal)="removeSavedAnimal($event)"
      ></app-saved-animals-grid>
    </div>

    <!-- Instructions Modal -->
    <app-instructions-modal
      [isOpen]="showInstructionsModal"
      (close)="onCloseInstructionsModal()"
    ></app-instructions-modal>

    <!-- Floating question mark button -->
    <button
      *ngIf="!showInstructionsModal"
      (click)="openInstructionsModal()"
      [attr.aria-label]="'APP.SEARCH.SHOW_INSTRUCTIONS' | translate" 
      class="fixed bottom-8 right-8 z-50 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-full 
             shadow-lg p-4 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-primary-400 
             flex items-center justify-center hover:shadow-xl hover:shadow-primary-500/20 transform hover:scale-110"
    >
      <ng-icon name="lucideCircleHelp" [size]="'28'" class="text-white"></ng-icon>
    </button>
  </div>
</div>